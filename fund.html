<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Deposit - RobinhoodFx</title>

    <!-- ======= Styles ====== -->
    <link rel="icon" href="./assets/images/logo.png" />
    <link rel="stylesheet" href="./assets/css/fund.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- ======== Script ======= -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js"></script>
    <script type="module" src="./assets/js/fund.js"></script>
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"
    ></script>
    <script type="text/javascript">
      (function () {
        emailjs.init({
          publicKey: "Nyfdw9a7QN8HaaLJ8",
        });
      })();
    </script>
  </head>

  <body>
    <!-- ======================= Loading ======================== -->
    <div id="progress-bar-container">
      <div id="progress-bar"></div>
    </div>
    <div id="loading-screen" class="loading">Loading...</div>

    <!-- =============== Navigation ================ -->
    <div class="container" id="dashboard-content" style="display: none">
      <div class="navigation">
        <ul>
          <li>
            <a href="index.html">
              <span class="icon">
                <img src="./assets/images/logo.png" alt="" />
              </span>
              <span class="title brand">
                <h3>Robinhood<span class="fx">Fx</span></h3>
              </span>
            </a>
          </li>

          <li class="active-link">
            <a href="dashboard.html">
              <span class="icon">
                <i class="fa-solid fa-layer-group"></i>
              </span>
              <span class="title">Dashboard</span>
            </a>
          </li>

          <li>
            <a href="fund.html">
              <span class="icon">
                <i class="fa-solid fa-sack-dollar" style="color: limegreen"></i>
              </span>
              <span class="title" style="color: limegreen">Fund Wallet</span>
            </a>
          </li>

          <li>
            <a href="invest.html">
              <span class="icon">
                <i class="fa-solid fa-money-bill-trend-up"></i>
              </span>
              <span class="title">Invest</span>
            </a>
          </li>

          <li>
            <a href="withdraw.html">
              <span class="icon">
                <i class="fa-solid fa-building-columns"></i>
              </span>
              <span class="title">Withdrawal</span>
            </a>
          </li>

          <li>
            <a href="refer.html">
              <span class="icon">
                <i class="fa-solid fa-user-group"></i>
              </span>
              <span class="title">Refferals</span>
            </a>
          </li>

          <li>
            <a href="settings.html">
              <span class="icon">
                <i class="fa-solid fa-gear"></i>
              </span>
              <span class="title">Profile</span>
            </a>
          </li>

          <li>
            <a id="logoutButton">
              <span class="icon">
                <i class="fa-solid fa-right-from-bracket"></i>
              </span>
              <span class="title">Sign Out</span>
            </a>
          </li>
        </ul>
      </div>

      <!-- ========================= Main ==================== -->
      <div class="main">
        <div class="topbar">
          <div></div>
          <div class="toggle">
            <img src="./assets/images/menu.png" alt="" />
          </div>

          <div class="logo">
            <span class="user-info">
              <h2 id="welcomeMessage"></h2>
            </span>
          </div>

          <div class="settings">
            <a href="settings.html">
              <i class="fa-solid fa-gear" style="color: #fff"></i>
            </a>
          </div>
        </div>

        <!-- ================= Fund Wallet Section =============== -->
        <p class="deposit-description">
          Choose the cryptocurrency option suitable for you, make your deposit
          to the exact copied address
        </p>
        <h2 class="name-brand">Robinhood<span class="fx">Fx</span></h2>
        <div class="deposit-container" id="fund">
          <h2>
            FUND WALLET
            <i class="fa-solid fa-wallet"></i>
          </h2>
          <form id="depositForm">
            <select
              id="crypto"
              class="crypto-type"
              name="crypto"
              style="margin-top: 1rem"
              required
            >
              <option value="" disabled selected>Select cryptocurrency</option>
              <option value="bitcoin">Bitcoin (BTC)</option>
              <option value="ethereum">Ethereum (ETH)</option>
              <option value="tether">USDT (Trc20)</option>
            </select>
            <input type="text" id="name" style="display: none" />
            <input type="email" name="email" id="email" style="display: none" />
            <input
              type="number"
              id="fund-amount"
              min="50"
              name="amount"
              placeholder="Amount($)"
              class="deposit-amount"
              required
            />

            <button type="submit">Continue</button>
          </form>
        </div>
        <div class="crypto-display" id="bitcoin">
          <h2>₿ITCOIN ADDRESS</h2>
          <img src="./assets/images/btc.jpeg" alt="" />
          <h3 id="re-fund-amount">-</h3>
          <p class="fund-description">
            Kindly copy the address below and send the exact worth of bitcoin to
            the copied address.
          </p>
          <div class="crypto-container">
            <p id="text-to-copy">bc1qtw7s595n09pfsfksj0xxlxsm0fyzdj4jpxhjpu</p>
            <button id="copy-button">Copy</button>
            <span id="copy-prompt" class="hidden">Copied!</span>
          </div>
          <div class="btn-div">
            <button class="btn-cancel">
              <a href="fund.html"> Cancel</a>
            </button>
            <button class="btn-success confirmPaymentButton">
              Confirm Payment
            </button>
          </div>
        </div>

        <div class="crypto-display" id="ethereum">
          <h2>♦️ETHEREUM ADDRESS</h2>
          <img src="./assets/images/eth.jpeg" alt="" />
          <h3 id="re-fund-amount">-</h3>
          <p class="fund-description">
            Kindly scan the QR code above or copy the address below and send the
            exact USD worth of ethereum to the copied address.
          </p>
          <div class="crypto-container">
            <p id="text-to-copy">0xb9F0d838E94091594c3d667B3F26F20f8360dA88</p>
            <button id="copy-button">Copy</button>
            <span id="copy-prompt" class="hidden">Copied!</span>
          </div>
          <div class="btn-div">
            <button class="btn-cancel">
              <a href="fund.html"> Cancel</a>
            </button>
            <button class="btn-success confirmPaymentButton">
              Confirm Payment
            </button>
          </div>
        </div>

        <div class="crypto-display" id="tether">
          <h2>U$DT ADDRESS</h2>
          <img src="./assets/images/usdt.jpeg" alt="" />
          <h3 id="re-fund-amount">-</h3>
          <p class="fund-description">
            Kindly scan the QR code above or copy the address below and send the
            exact USD worth of USDT to the copied address.
          </p>
          <div class="crypto-container">
            <p id="text-to-copy">0xb9F0d838E94091594c3d667B3F26F20f8360dA88</p>
            <button id="copy-button">Copy</button>
            <span id="copy-prompt" class="hidden">Copied!</span>
          </div>
          <div class="btn-div">
            <button class="btn-cancel">
              <a href="fund.html"> Cancel</a>
            </button>
            <button class="btn-success confirmPaymentButton">
              Confirm Payment
            </button>
          </div>
        </div>

        <!-- TradingView Widget BEGIN -->
        <div class="container-live">
          <div class="right">
            <link rel="stylesheet" href="main.css" />
            <div class="crypto btc">
              <crypto-converter-widget
                live
                shadow
                symbol
                fiat="united-states-dollar"
                crypto="bitcoin"
                amount="1"
                border-radius="0.60rem"
                background-color="#222"
                decimal-places="2"
                ><a href="https://cr.today/" rel="noopener"
                  >Converter Widget</a
                ></crypto-converter-widget
              >
              <script
                src="https://cdn.jsdelivr.net/gh/dejurin/crypto-converter-widget/dist/latest.min.js"
                async
              ></script>
            </div>
            <div class="crypto eth">
              <crypto-converter-widget
                live
                shadow
                symbol
                fiat="united-states-dollar"
                crypto="ethereum"
                amount="1"
                border-radius="0.60rem"
                background-color="#222"
                decimal-places="2"
                ><a href="https://cr.today/" rel="noopener"
                  >Converter Widget</a
                ></crypto-converter-widget
              >
              <script
                src="https://cdn.jsdelivr.net/gh/dejurin/crypto-converter-widget/dist/latest.min.js"
                async
              ></script>
            </div>
            <div class="crypto ltc">
              <crypto-converter-widget
                live
                shadow
                symbol
                fiat="united-states-dollar"
                crypto="litecoin"
                amount="1"
                border-radius="0.60rem"
                background-color="#222"
                decimal-places="2"
                ><a href="https://cr.today/" rel="noopener"
                  >Converter Widget</a
                ></crypto-converter-widget
              >
              <script
                src="https://cdn.jsdelivr.net/gh/dejurin/crypto-converter-widget/dist/latest.min.js"
                async
              ></script>
            </div>
            <div class="crypto xrp">
              <crypto-converter-widget
                live
                shadow
                symbol
                fiat="united-states-dollar"
                crypto="xrp"
                amount="1"
                border-radius="0.60rem"
                background-color="#222"
                decimal-places="2"
                ><a href="https://cr.today/" rel="noopener"
                  >Converter Widget</a
                ></crypto-converter-widget
              >
              <script
                src="https://cdn.jsdelivr.net/gh/dejurin/crypto-converter-widget/dist/latest.min.js"
                async
              ></script>
            </div>
          </div>
          <div class="center">
            <link rel="stylesheet" href="main.css" />
            <div class="crypto USDT">
              <crypto-converter-widget
                live
                shadow
                symbol
                fiat="united-states-dollar"
                crypto="usdt"
                amount="1"
                border-radius="0.60rem"
                background-color="#222"
                decimal-places="2"
                ><a href="https://cr.today/" rel="noopener"
                  >Converter Widget</a
                ></crypto-converter-widget
              >
              <script
                src="https://cdn.jsdelivr.net/gh/dejurin/crypto-converter-widget/dist/latest.min.js"
                async
              ></script>
            </div>
            <div class="crypto eth">
              <crypto-converter-widget
                live
                shadow
                symbol
                fiat="united-states-dollar"
                crypto="ethereum"
                amount="1"
                border-radius="0.60rem"
                background-color="#222"
                decimal-places="2"
                ><a href="https://cr.today/" rel="noopener"
                  >Converter Widget</a
                ></crypto-converter-widget
              >
              <script
                src="https://cdn.jsdelivr.net/gh/dejurin/crypto-converter-widget/dist/latest.min.js"
                async
              ></script>
            </div>
            <div class="crypto ltc">
              <crypto-converter-widget
                live
                shadow
                symbol
                fiat="united-states-dollar"
                crypto="litecoin"
                amount="1"
                border-radius="0.60rem"
                background-color="#222"
                decimal-places="2"
                ><a href="https://cr.today/" rel="noopener"
                  >Converter Widget</a
                ></crypto-converter-widget
              >
              <script
                src="https://cdn.jsdelivr.net/gh/dejurin/crypto-converter-widget/dist/latest.min.js"
                async
              ></script>
            </div>
            <div class="crypto xrp">
              <crypto-converter-widget
                live
                shadow
                symbol
                fiat="united-states-dollar"
                crypto="xrp"
                amount="1"
                border-radius="0.60rem"
                background-color="#222"
                decimal-places="2"
                ><a href="https://cr.today/" rel="noopener"
                  >Converter Widget</a
                ></crypto-converter-widget
              >
              <script
                src="https://cdn.jsdelivr.net/gh/dejurin/crypto-converter-widget/dist/latest.min.js"
                async
              ></script>
            </div>
          </div>
          <div class="center">
            <link rel="stylesheet" href="main.css" />
            <div class="crypto ada">
              <crypto-converter-widget
                live
                shadow
                symbol
                fiat="united-states-dollar"
                crypto="cardano"
                amount="1"
                border-radius="0.60rem"
                background-color="#222"
                decimal-places="2"
                ><a href="https://cr.today/" rel="noopener"
                  >Converter Widget</a
                ></crypto-converter-widget
              >
              <script
                src="https://cdn.jsdelivr.net/gh/dejurin/crypto-converter-widget/dist/latest.min.js"
                async
              ></script>
            </div>
            <div class="crypto eth">
              <crypto-converter-widget
                live
                shadow
                symbol
                fiat="united-states-dollar"
                crypto="ethereum"
                amount="1"
                border-radius="0.60rem"
                background-color="#222"
                decimal-places="2"
                ><a href="https://cr.today/" rel="noopener"
                  >Converter Widget</a
                ></crypto-converter-widget
              >
              <script
                src="https://cdn.jsdelivr.net/gh/dejurin/crypto-converter-widget/dist/latest.min.js"
                async
              ></script>
            </div>
            <div class="crypto ltc">
              <crypto-converter-widget
                live
                shadow
                symbol
                fiat="united-states-dollar"
                crypto="litecoin"
                amount="1"
                border-radius="0.60rem"
                background-color="#222"
                decimal-places="2"
                ><a href="https://cr.today/" rel="noopener"
                  >Converter Widget</a
                ></crypto-converter-widget
              >
              <script
                src="https://cdn.jsdelivr.net/gh/dejurin/crypto-converter-widget/dist/latest.min.js"
                async
              ></script>
            </div>
            <div class="crypto xrp">
              <crypto-converter-widget
                live
                shadow
                symbol
                fiat="united-states-dollar"
                crypto="xrp"
                amount="1"
                border-radius="0.60rem"
                background-color="#222"
                decimal-places="2"
                ><a href="https://cr.today/" rel="noopener"
                  >Converter Widget</a
                ></crypto-converter-widget
              >
              <script
                src="https://cdn.jsdelivr.net/gh/dejurin/crypto-converter-widget/dist/latest.min.js"
                async
              ></script>
            </div>
          </div>
        </div>
      </div>

      <!-- ========================== Popups ====================== -->
      <div id="confirmationPopup" class="popup">
        <span id="confirmationMessage">Are you sure you want to log out?</span>
        <div>
          <button id="confirmYes" class="confirm-button">Yes</button>
          <button id="confirmNo" class="confirm-button">No</button>
        </div>
      </div>
      <div id="popup" class="popup">
        <span id="popup-message"></span>
        <span class="close-popup">&times;</span>
      </div>
    </div>

    <!-- Custom Popup -->
    <div class="popup-full hidden-pay" id="customPopup">
      <div class="popup-fund">
        <div class="popup-content">
          <img src="./assets/images/refresh.png" alt="" />
          <h2>Payment Confirmation</h2>
          <p>
            Please send your payment evidence to
            <a href="mailto:robinhoodfxg@gmail.com" style="color: #fff"
              >robinhoodfxg@gmail.com</a
            >
          </p>
          <button id="popupOkButton">
            Done
            <i class="fa fa-angle-right"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- =================== Scripts =====================  -->
    <script>
      // ============= Crypto wallets ================== //
      document.addEventListener("DOMContentLoaded", function () {
        const depositForm = document.getElementById("depositForm");
        const depositContainer = document.getElementById("fund");
        const cryptoDisplays = document.querySelectorAll(".crypto-display");
        const clearSettingsLink = document.getElementById("clear-settings");
        const waitMessage = document.createElement("p");
        waitMessage.textContent = "";
        waitMessage.style.display = "none";
        depositContainer.parentNode.insertBefore(waitMessage, depositContainer);

        depositForm.addEventListener("submit", function (event) {
          event.preventDefault();
          const crypto = document.getElementById("crypto").value;

          // Hide all crypto displays
          cryptoDisplays.forEach((display) => display.classList.remove("flex"));

          // Save settings to localStorage
          localStorage.setItem("selectedCrypto", crypto);

          // Show "Please wait!" message
          waitMessage.style.display = "block";

          // Show selected crypto display after a 6-second delay
          const selectedCryptoDisplay = document.getElementById(crypto);
          if (selectedCryptoDisplay) {
            depositContainer.style.display = "none";
            setTimeout(() => {
              waitMessage.style.display = "none";
              selectedCryptoDisplay.classList.add("flex");
            }, 6000);
          }
        });
      });

      // ==================== Menu Toggle ===================== //
      let toggle = document.querySelector(".toggle");
      let navigation = document.querySelector(".navigation");
      let main = document.querySelector(".main");

      toggle.onclick = function () {
        navigation.classList.toggle("active");
        main.classList.toggle("active");
      };

      // ================== Copy details ============= //
      document.querySelectorAll("#copy-button").forEach((copyButton) => {
        copyButton.addEventListener("click", function () {
          // Get the text to copy from the first element with ID 'text-to-copy'
          const textToCopy = document.querySelector("#text-to-copy").innerText;

          // Create a temporary textarea element to hold the text
          const textarea = document.createElement("textarea");
          textarea.value = textToCopy;
          document.body.appendChild(textarea);

          // Select the text and copy it to the clipboard
          textarea.select();
          document.execCommand("copy");

          // Remove the temporary textarea element
          document.body.removeChild(textarea);

          // Show the "Copied!" prompt for each copy prompt element
          document.querySelectorAll("#copy-prompt").forEach((copyPrompt) => {
            copyPrompt.classList.remove("hidden");

            // Hide the prompt after 2 seconds
            setTimeout(function () {
              copyPrompt.classList.add("hidden");
            }, 2000);
          });
        });
      });

      // ========== Close popup when clicking outside of it ========== //
      window.onclick = function (event) {
        const popup = document.getElementById("popup");
        if (event.target === popup) {
          popup.style.display = "none";
        }
      };

      // Close popup when clicking the close button
      document.querySelector(".close-popup").onclick = function () {
        document.getElementById("popup").style.display = "none";
      };
    </script>
  </body>
</html>
